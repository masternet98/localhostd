# ìœˆë„ìš° Cloudflared í„°ë„ ê´€ë¦¬ í”„ë¡œê·¸ë¨ ê°œë°œ ìš”ì²­ ë¬¸ì„œ

## ê°œìš”
í˜„ì¬ Streamlit ì• í”Œë¦¬ì¼€ì´ì…˜ì— í¬í•¨ëœ Cloudflared í„°ë„ ê´€ë¦¬ ê¸°ëŠ¥ì„ **ìµœê²½ëŸ‰ ë…ë¦½ ìœˆë„ìš° í”„ë¡œê·¸ë¨**ìœ¼ë¡œ ë¶„ë¦¬í•˜ì—¬ ê°œë°œí•©ë‹ˆë‹¤. **ìµœì†Œí•œì˜ ì‹œìŠ¤í…œ ìì›**ì„ ì‚¬ìš©í•˜ë©´ì„œ ë¡œì»¬ ì„œë¹„ìŠ¤ë¥¼ ì™¸ë¶€ í´ë¼ìš°ë“œ í™˜ê²½ì—ì„œ ì„ì‹œë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•˜ëŠ” í•µì‹¬ ê¸°ëŠ¥ë§Œì„ ì œê³µí•©ë‹ˆë‹¤.

## ê²½ëŸ‰í™” ì„¤ê³„ ì›ì¹™

### 1. **ìµœì†Œ ë¦¬ì†ŒìŠ¤ ì‚¬ìš©**
- **ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰**: 50MB ì´í•˜ ëª©í‘œ
- **CPU ì‚¬ìš©ë¥ **: ìœ íœ´ ì‹œ 1% ì´í•˜
- **ë””ìŠ¤í¬ ìš©ëŸ‰**: ì‹¤í–‰ íŒŒì¼ 20MB ì´í•˜
- **ë„¤íŠ¸ì›Œí¬**: í„°ë„ ì„¤ì • ì‹œì—ë§Œ ì‚¬ìš©

### 2. **ìµœê²½ëŸ‰ ê¸°ìˆ  ìŠ¤íƒ**
- **GUI**: tkinter (Python ë‚´ì¥, ì¶”ê°€ ì˜ì¡´ì„± ì—†ìŒ)
- **íŒ¨í‚¤ì§•**: PyInstaller --onefile (ë‹¨ì¼ ì‹¤í–‰ íŒŒì¼)
- **ì˜ì¡´ì„±**: ìµœì†Œí•œìœ¼ë¡œ ì œí•œ (qrcode ì œì™¸ ê³ ë ¤)

## í•µì‹¬ ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­ (ìµœì†Œí™”)

### 1. **í•„ìˆ˜ í„°ë„ ê´€ë¦¬ ê¸°ëŠ¥**
- Cloudflared í„°ë„ ì‹œì‘/ì¤‘ì§€
- í„°ë„ ìƒíƒœ í‘œì‹œ (ì‹¤í–‰ì¤‘/ì¤‘ì§€ë¨)
- ê³µê°œ URL ìë™ ê°ì§€ ë° í‘œì‹œ
- í¬íŠ¸ ì„¤ì • (ê¸°ë³¸ê°’: 8501)

### 2. **ìµœì†Œ UI ê¸°ëŠ¥**
- ê°„ë‹¨í•œ ìƒíƒœ í‘œì‹œ
- URL ë³µì‚¬ ê¸°ëŠ¥
- ë¸Œë¼ìš°ì €ì—ì„œ ì—´ê¸°
- **ì œì™¸**: QR ì½”ë“œ ìƒì„± (ì˜ì¡´ì„± ê²½ëŸ‰í™”)

### 3. **ê²½ëŸ‰ ë¡œê·¸ ê´€ë¦¬**
- ë©”ëª¨ë¦¬ ë‚´ ë¡œê·¸ë§Œ ìœ ì§€ (ìµœëŒ€ 100ì¤„)
- íŒŒì¼ ì €ì¥ ì—†ìŒ (ë””ìŠ¤í¬ I/O ìµœì†Œí™”)
- ê°„ë‹¨í•œ ì˜¤ë¥˜ ë©”ì‹œì§€ë§Œ í‘œì‹œ

## Cloudflared ì„¤ì¹˜ ë° ê´€ë¦¬ ì‹œìŠ¤í…œ

### 1. **ìë™ ì„¤ì¹˜ ê°ì§€ ë¡œì§**
í”„ë¡œê·¸ë¨ ì‹œì‘ ì‹œ ë‹¤ìŒ ìˆœì„œë¡œ cloudflared ê²€ìƒ‰:

```python
def detect_cloudflared():
    # 1. PATH í™˜ê²½ë³€ìˆ˜ì—ì„œ ê²€ìƒ‰
    if shutil.which("cloudflared"):
        return shutil.which("cloudflared")
    
    # 2. í‘œì¤€ ì„¤ì¹˜ ê²½ë¡œ ê²€ìƒ‰
    standard_paths = [
        r"C:\Program Files\cloudflared\cloudflared.exe",
        r"C:\Program Files (x86)\cloudflared\cloudflared.exe", 
        r"%LOCALAPPDATA%\cloudflared\cloudflared.exe",
        r"%USERPROFILE%\.cloudflared\cloudflared.exe"
    ]
    
    for path in standard_paths:
        expanded = os.path.expandvars(path)
        if os.path.isfile(expanded):
            return expanded
    
    return None  # ì„¤ì¹˜ë˜ì§€ ì•ŠìŒ
```

### 2. **Cloudflared ë¯¸ì„¤ì¹˜ ì‹œ ì²˜ë¦¬**

#### A. **ì•ˆë‚´ ëŒ€í™”ìƒì í‘œì‹œ**
```
â”Œâ”€ Cloudflared ì„¤ì¹˜ í•„ìš” â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                            â”‚
â”‚  âš ï¸  Cloudflaredê°€ ì„¤ì¹˜ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.      â”‚
â”‚                                            â”‚
â”‚  í„°ë„ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ë ¤ë©´ Cloudflaredë¥¼       â”‚
â”‚  ë¨¼ì € ì„¤ì¹˜í•´ì•¼ í•©ë‹ˆë‹¤.                     â”‚
â”‚                                            â”‚
â”‚  [ìë™ ì„¤ì¹˜] [ìˆ˜ë™ ì„¤ì¹˜ ì•ˆë‚´] [ë‚˜ì¤‘ì—]     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### B. **ìë™ ì„¤ì¹˜ ê¸°ëŠ¥**
```python
def auto_install_cloudflared():
    """Cloudflared ìë™ ë‹¤ìš´ë¡œë“œ ë° ì„¤ì¹˜"""
    try:
        # 1. ìµœì‹  ë²„ì „ í™•ì¸
        download_url = "https://github.com/cloudflare/cloudflared/releases/latest/download/cloudflared-windows-amd64.exe"
        
        # 2. ì‚¬ìš©ì ë¡œì»¬ ë””ë ‰í† ë¦¬ì— ë‹¤ìš´ë¡œë“œ
        local_dir = os.path.join(os.environ['LOCALAPPDATA'], 'cloudflared')
        os.makedirs(local_dir, exist_ok=True)
        local_path = os.path.join(local_dir, 'cloudflared.exe')
        
        # 3. ì§„í–‰ë¥  í‘œì‹œí•˜ë©° ë‹¤ìš´ë¡œë“œ
        download_with_progress(download_url, local_path)
        
        # 4. ì‹¤í–‰ ê¶Œí•œ í™•ì¸
        if os.path.isfile(local_path):
            return local_path
            
    except Exception as e:
        show_error(f"ìë™ ì„¤ì¹˜ ì‹¤íŒ¨: {e}")
        return None
```

#### C. **ìˆ˜ë™ ì„¤ì¹˜ ì•ˆë‚´**
```
â”Œâ”€ Cloudflared ìˆ˜ë™ ì„¤ì¹˜ ì•ˆë‚´ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                            â”‚
â”‚  ğŸ“¥ ìˆ˜ë™ ì„¤ì¹˜ ë°©ë²•:                        â”‚
â”‚                                            â”‚
â”‚  1. ê³µì‹ ë‹¤ìš´ë¡œë“œ í˜ì´ì§€ ë°©ë¬¸:             â”‚
â”‚     https://github.com/cloudflare/         â”‚
â”‚     cloudflared/releases                   â”‚
â”‚                                            â”‚
â”‚  2. Windowsìš© íŒŒì¼ ë‹¤ìš´ë¡œë“œ:               â”‚
â”‚     cloudflared-windows-amd64.exe          â”‚
â”‚                                            â”‚
â”‚  3. ë‹¤ìš´ë¡œë“œí•œ íŒŒì¼ì„ ë‹¤ìŒ ì¤‘ í•œ ê³³ì—      â”‚
â”‚     ë³µì‚¬:                                  â”‚
â”‚     â€¢ C:\Program Files\cloudflared\        â”‚
â”‚     â€¢ í˜„ì¬ í”„ë¡œê·¸ë¨ê³¼ ê°™ì€ í´ë”            â”‚
â”‚     â€¢ PATH í™˜ê²½ë³€ìˆ˜ ë“±ë¡ëœ í´ë”            â”‚
â”‚                                            â”‚
â”‚  [ê³µì‹ í˜ì´ì§€ ì—´ê¸°] [í™•ì¸]                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. **ë‹¤ìš´ë¡œë“œ ì§„í–‰ë¥  UI**
```python
class DownloadProgressDialog:
    def __init__(self, parent):
        self.window = tk.Toplevel(parent)
        self.window.title("Cloudflared ë‹¤ìš´ë¡œë“œ ì¤‘...")
        self.window.geometry("400x150")
        
        # ì§„í–‰ë¥  í‘œì‹œ
        self.progress_label = tk.Label(self.window, text="ë‹¤ìš´ë¡œë“œ ì¤€ë¹„ ì¤‘...")
        self.progress_bar = ttk.Progressbar(self.window, mode='determinate')
        self.cancel_btn = tk.Button(self.window, text="ì·¨ì†Œ", command=self.cancel)
        
    def update_progress(self, current, total):
        percent = int((current / total) * 100)
        self.progress_bar['value'] = percent
        self.progress_label.config(text=f"ë‹¤ìš´ë¡œë“œ ì¤‘... {percent}% ({current}/{total} bytes)")
```

### 4. **Cloudflared ë²„ì „ ê´€ë¦¬**

#### A. **ë²„ì „ í™•ì¸ ê¸°ëŠ¥**
```python
def get_cloudflared_version(cloudflared_path):
    """ì„¤ì¹˜ëœ cloudflared ë²„ì „ í™•ì¸"""
    try:
        result = subprocess.run([cloudflared_path, "--version"], 
                              capture_output=True, text=True, timeout=5)
        if result.returncode == 0:
            # "cloudflared version 2023.10.0" í˜•íƒœì—ì„œ ë²„ì „ ì¶”ì¶œ
            version_match = re.search(r'version (\d+\.\d+\.\d+)', result.stdout)
            if version_match:
                return version_match.group(1)
    except Exception:
        pass
    return "ì•Œ ìˆ˜ ì—†ìŒ"
```

#### B. **ì—…ë°ì´íŠ¸ í™•ì¸ (ì„ íƒì‚¬í•­)**
```python
def check_for_updates(current_version):
    """ìµœì‹  ë²„ì „ í™•ì¸ (GitHub API ì‚¬ìš©)"""
    try:
        import json
        import urllib.request
        
        url = "https://api.github.com/repos/cloudflare/cloudflared/releases/latest"
        with urllib.request.urlopen(url) as response:
            data = json.loads(response.read())
            latest_version = data['tag_name'].lstrip('v')
            
        if latest_version != current_version:
            return latest_version
    except Exception:
        pass
    return None
```

### 5. **ì„¤ì¹˜ ìƒíƒœ UI í†µí•©**

#### A. **ë©”ì¸ ìœˆë„ìš°ì— ìƒíƒœ í‘œì‹œ**
```
â”Œâ”€ Cloudflared í„°ë„ ê´€ë¦¬ì â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                          â”‚
â”‚  Cloudflared: âœ… v2023.10.0 (ì •ìƒ)      â”‚
â”‚  ìƒíƒœ: â— ì‹¤í–‰ì¤‘     í¬íŠ¸: [8501]         â”‚
â”‚                                          â”‚
â”‚  URL: https://abc123.trycloudflare.com   â”‚
â”‚  [ë³µì‚¬] [ì—´ê¸°]                           â”‚
â”‚                                          â”‚
â”‚  [ì‹œì‘] [ì¤‘ì§€] [ì¬ì„¤ì¹˜]                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### B. **ì„¤ì¹˜ ìƒíƒœë³„ UI ë³€ê²½**
- **ì„¤ì¹˜ë¨**: ì •ìƒ í„°ë„ ê´€ë¦¬ UI í‘œì‹œ
- **ë¯¸ì„¤ì¹˜**: ì„¤ì¹˜ ì•ˆë‚´ ë° ìë™ ì„¤ì¹˜ ë²„íŠ¼ë§Œ í‘œì‹œ
- **ì„¤ì¹˜ ì¤‘**: ì§„í–‰ë¥  í‘œì‹œ ë° ë‹¤ë¥¸ ê¸°ëŠ¥ ë¹„í™œì„±í™”

### 6. **ì—ëŸ¬ ì²˜ë¦¬ ë° ë³µêµ¬**

#### A. **ì¼ë°˜ì ì¸ ì„¤ì¹˜ ì˜¤ë¥˜**
```python
def handle_installation_errors():
    error_solutions = {
        "PermissionError": "ê´€ë¦¬ì ê¶Œí•œì´ í•„ìš”í•©ë‹ˆë‹¤. í”„ë¡œê·¸ë¨ì„ ê´€ë¦¬ì ê¶Œí•œìœ¼ë¡œ ì‹¤í–‰í•´ì£¼ì„¸ìš”.",
        "ConnectionError": "ì¸í„°ë„· ì—°ê²°ì„ í™•ì¸í•´ì£¼ì„¸ìš”. ë°©í™”ë²½ì´ ë‹¤ìš´ë¡œë“œë¥¼ ì°¨ë‹¨í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.",
        "FileNotFoundError": "ë‹¤ìš´ë¡œë“œí•œ íŒŒì¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.",
        "TimeoutError": "ë‹¤ìš´ë¡œë“œ ì‹œê°„ì´ ì´ˆê³¼ë˜ì—ˆìŠµë‹ˆë‹¤. ë„¤íŠ¸ì›Œí¬ ìƒíƒœë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”."
    }
    return error_solutions
```

#### B. **ì„¤ì¹˜ ê²€ì¦**
```python
def verify_installation(cloudflared_path):
    """ì„¤ì¹˜ëœ cloudflaredê°€ ì •ìƒ ì‘ë™í•˜ëŠ”ì§€ í™•ì¸"""
    try:
        # ê°„ë‹¨í•œ help ëª…ë ¹ìœ¼ë¡œ ì‹¤í–‰ ê°€ëŠ¥ì„± í™•ì¸
        result = subprocess.run([cloudflared_path, "--help"], 
                              capture_output=True, timeout=10)
        return result.returncode == 0
    except Exception:
        return False
```

### 7. **ê²½ëŸ‰í™”ë¥¼ ìœ„í•œ ì„¤ì¹˜ ê´€ë¦¬ ìµœì í™”**

#### A. **ìµœì†Œ ì˜ì¡´ì„± ë‹¤ìš´ë¡œë“œ**
- urllib.request (í‘œì¤€ ë¼ì´ë¸ŒëŸ¬ë¦¬) ì‚¬ìš©
- ì™¸ë¶€ ë‹¤ìš´ë¡œë“œ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë°°ì œ
- ê°„ë‹¨í•œ HTTP ìš”ì²­ë§Œ ì‚¬ìš©

#### B. **ë©”ëª¨ë¦¬ íš¨ìœ¨ì  ë‹¤ìš´ë¡œë“œ**
```python
def download_with_progress(url, local_path, chunk_size=8192):
    """ë©”ëª¨ë¦¬ íš¨ìœ¨ì ì¸ ìŠ¤íŠ¸ë¦¬ë° ë‹¤ìš´ë¡œë“œ"""
    import urllib.request
    
    with urllib.request.urlopen(url) as response:
        total_size = int(response.headers.get('Content-Length', 0))
        downloaded = 0
        
        with open(local_path, 'wb') as f:
            while True:
                chunk = response.read(chunk_size)
                if not chunk:
                    break
                f.write(chunk)
                downloaded += len(chunk)
                
                # UI ì—…ë°ì´íŠ¸ (ë©”ì¸ ìŠ¤ë ˆë“œì—ì„œ)
                if hasattr(self, 'update_callback'):
                    self.update_callback(downloaded, total_size)
```

## ê¸°ìˆ ì  ìš”êµ¬ì‚¬í•­ (ê²½ëŸ‰í™”)

### 1. **ê°œë°œ í”Œë«í¼**
- **ì–¸ì–´**: Python 3.8+ (ìµœì†Œ ë²„ì „)
- **GUI**: tkinter (ë‚´ì¥ ëª¨ë“ˆ í™œìš©)
- **ë°°í¬**: PyInstaller --onefile --noconsole
- **ëª©í‘œ í¬ê¸°**: 15-20MB ì´í•˜

### 2. **ìµœì†Œ ì˜ì¡´ì„±**
```python
# í‘œì¤€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë§Œ ì‚¬ìš©
import tkinter
import tkinter.ttk
import subprocess
import threading
import re
import time
import os
import webbrowser
import urllib.request
import json
import shutil
```

### 3. **ë©”ëª¨ë¦¬ ìµœì í™”**
- ë¡œê·¸ ìˆœí™˜ ë²„í¼ (ê³ ì • í¬ê¸°)
- ë¶ˆí•„ìš”í•œ ê°ì²´ ì¦‰ì‹œ í•´ì œ
- ê°€ë¹„ì§€ ì»¬ë ‰ì…˜ ì ê·¹ í™œìš©

## ê²½ëŸ‰ UI ì„¤ê³„

### 1. **ì´ˆê°„ë‹¨ ë©”ì¸ ìœˆë„ìš°** (450x350)
```
â”Œâ”€ Cloudflared í„°ë„ ê´€ë¦¬ì â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                          â”‚
â”‚  Cloudflared: âœ… v2023.10.0 [ì¬ì„¤ì¹˜]    â”‚
â”‚  ìƒíƒœ: â— ì‹¤í–‰ì¤‘     í¬íŠ¸: [8501]         â”‚
â”‚                                          â”‚
â”‚  URL: https://abc123.trycloudflare.com   â”‚
â”‚  [ë³µì‚¬] [ì—´ê¸°]                           â”‚
â”‚                                          â”‚
â”‚  [ì‹œì‘] [ì¤‘ì§€]                           â”‚
â”‚                                          â”‚
â”‚  ë¡œê·¸ (ìµœê·¼ 10ì¤„):                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚tunnel started successfully         â”‚  â”‚
â”‚  â”‚URL detected: https://...           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                          â”‚
â”‚  [ì„¤ì •] [ë„ì›€ë§] [ì¢…ë£Œ]                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. **ì„¤ì¹˜ ìƒíƒœë³„ UI ë³€í™”**

#### A. **Cloudflared ë¯¸ì„¤ì¹˜ ì‹œ**
```
â”Œâ”€ Cloudflared í„°ë„ ê´€ë¦¬ì â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                          â”‚
â”‚  âš ï¸  Cloudflaredê°€ ì„¤ì¹˜ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.   â”‚
â”‚                                          â”‚
â”‚  í„°ë„ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ë ¤ë©´ ë¨¼ì € ì„¤ì¹˜í•´ì•¼     â”‚
â”‚  í•©ë‹ˆë‹¤.                                 â”‚
â”‚                                          â”‚
â”‚  [ìë™ ì„¤ì¹˜] [ìˆ˜ë™ ì„¤ì¹˜ ì•ˆë‚´]             â”‚
â”‚                                          â”‚
â”‚  ğŸ’¡ ìë™ ì„¤ì¹˜ ê¶Œì¥: í´ë¦­ í•œ ë²ˆìœ¼ë¡œ       â”‚
â”‚     ìµœì‹  ë²„ì „ì„ ìë™ìœ¼ë¡œ ë‹¤ìš´ë¡œë“œí•˜ê³      â”‚
â”‚     ì„¤ì¹˜í•©ë‹ˆë‹¤.                          â”‚
â”‚                                          â”‚
â”‚  [ì¢…ë£Œ]                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### B. **ì„¤ì¹˜ ì§„í–‰ ì¤‘**
```
â”Œâ”€ Cloudflared ì„¤ì¹˜ ì¤‘ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                          â”‚
â”‚  ğŸ“¥ Cloudflared ë‹¤ìš´ë¡œë“œ ì¤‘...            â”‚
â”‚                                          â”‚
â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 65%                â”‚
â”‚  ë‹¤ìš´ë¡œë“œ: 15.2MB / 23.4MB               â”‚
â”‚                                          â”‚
â”‚  ì˜ˆìƒ ì‹œê°„: 30ì´ˆ ë‚¨ìŒ                    â”‚
â”‚                                          â”‚
â”‚  [ì·¨ì†Œ]                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. **ë„ì›€ë§ ëŒ€í™”ìƒì**
```
â”Œâ”€ ì‚¬ìš©ë²• ë„ì›€ë§ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                          â”‚
â”‚  ğŸ”§ Cloudflared í„°ë„ ê´€ë¦¬ì ì‚¬ìš©ë²•        â”‚
â”‚                                          â”‚
â”‚  1. ì‹œì‘ ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ í„°ë„ì„ ì‹œì‘     â”‚
â”‚  2. ìƒì„±ëœ URLì„ ë³µì‚¬í•˜ê±°ë‚˜ ë¸Œë¼ìš°ì €ì—ì„œ â”‚
â”‚     ì§ì ‘ ì—´ê¸°                            â”‚
â”‚  3. ì™¸ë¶€ì—ì„œ í•´ë‹¹ URLë¡œ ì ‘ì† ê°€ëŠ¥        â”‚
â”‚  4. ì‘ì—… ì™„ë£Œ í›„ ì¤‘ì§€ ë²„íŠ¼ìœ¼ë¡œ í„°ë„ ì¢…ë£Œ â”‚
â”‚                                          â”‚
â”‚  ğŸ’¡ íŒ:                                  â”‚
â”‚  â€¢ í¬íŠ¸ëŠ” ë¡œì»¬ ì„œë¹„ìŠ¤ê°€ ì‹¤í–‰ ì¤‘ì¸ í¬íŠ¸ì™€â”‚
â”‚    ë™ì¼í•´ì•¼ í•©ë‹ˆë‹¤                       â”‚
â”‚  â€¢ í„°ë„ì€ ì„ì‹œì ì´ë©° í”„ë¡œê·¸ë¨ ì¢…ë£Œ ì‹œ   â”‚
â”‚    ìë™ìœ¼ë¡œ ì¤‘ì§€ë©ë‹ˆë‹¤                   â”‚
â”‚                                          â”‚
â”‚  [í™•ì¸]                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## í˜„ì¬ ì†ŒìŠ¤ì½”ë“œ ë¶„ì„ ê²°ê³¼

### í•µì‹¬ ë¡œì§ êµ¬ì¡°

#### 1. **TunnelState ë°ì´í„° í´ë˜ìŠ¤**
```python
@dataclass
class TunnelState:
    port: int
    running: bool = False
    proc: Optional[subprocess.Popen] = None
    url: str = ""
    logs: List[str] = field(default_factory=list)
    auto_start: bool = True
```

#### 2. **í„°ë„ ì‹œì‘ ë¡œì§**
```python
def start_cloudflared_tunnel(state: TunnelState, wait_for_url_seconds: int = 10):
    # 1. cloudflared ì‹¤í–‰ íŒŒì¼ íƒì§€
    # 2. ëª…ë ¹ì–´ êµ¬ì„±: [cloudflared, tunnel, --url, http://localhost:PORT, --no-autoupdate, --loglevel, info]
    # 3. subprocess.Popenìœ¼ë¡œ í”„ë¡œì„¸ìŠ¤ ì‹œì‘
    # 4. ë³„ë„ ìŠ¤ë ˆë“œì—ì„œ stdout ëª¨ë‹ˆí„°ë§
    # 5. URL íŒ¨í„´ ë§¤ì¹­ìœ¼ë¡œ ê³µê°œ URL ì¶”ì¶œ
```

#### 3. **URL ê°ì§€ íŒ¨í„´**
- `https://[hash].trycloudflare.com` (ê¸°ë³¸ íŒ¨í„´)
- `https://[hash].cfargotunnel.com` (ëŒ€ì²´ íŒ¨í„´)
- JSON í˜•íƒœ: `"url": "https://..."`
- ì¼ë°˜ URL íŒ¨í„´ ë‚´ cloudflare ë„ë©”ì¸

#### 4. **ë¡œê·¸ ì²˜ë¦¬**
- ì‹¤ì‹œê°„ stdout ì½ê¸°
- ë¡œê·¸ íŒŒì¼ ì €ì¥ (`logs/cloudflared_tunnel.log`)
- ë¡œê·¸ ë ˆë²¨ë³„ í•„í„°ë§
- ì˜¤ë¥˜ ì²˜ë¦¬ ë° ë³µêµ¬

### ì£¼ìš” ë³´ì•ˆ ê³ ë ¤ì‚¬í•­

1. **ì…ë ¥ ê²€ì¦**: í¬íŠ¸ ë²”ìœ„ (1-65535) ê²€ì¦
2. **ëª…ë ¹ì–´ ì£¼ì… ë°©ì§€**: shlex ì‚¬ìš©í•œ ì•ˆì „í•œ ëª…ë ¹ì–´ êµ¬ì„±
3. **í”„ë¡œì„¸ìŠ¤ ê²©ë¦¬**: ë³„ë„ í”„ë¡œì„¸ìŠ¤ ë° ìŠ¤ë ˆë“œì—ì„œ ì‹¤í–‰
4. **ë¦¬ì†ŒìŠ¤ ì •ë¦¬**: í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ ì‹œ ì•ˆì „í•œ cleanup

## ì¶”ê°€ ê²½ëŸ‰í™” ì¡°ì¹˜

### 1. **ê¸°ëŠ¥ ì œì™¸ ëª©ë¡**
- QR ì½”ë“œ ìƒì„± (PIL ì˜ì¡´ì„± ì œê±°)
- ë¡œê·¸ íŒŒì¼ ì €ì¥ (ë””ìŠ¤í¬ I/O ì œê±°)
- ì‹œìŠ¤í…œ íŠ¸ë ˆì´ (ì¶”ê°€ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì œê±°)
- ê³ ê¸‰ ì„¤ì • ì˜µì…˜ë“¤
- í…Œë§ˆ/ìŠ¤í‚¨ ê¸°ëŠ¥

### 2. **íŒ¨í‚¤ì§• ìµœì í™”**
```bash
# ìµœê²½ëŸ‰ ë¹Œë“œ ëª…ë ¹
pyinstaller --onefile --noconsole --optimize=2 \
    --exclude-module=PIL --exclude-module=numpy \
    --exclude-module=matplotlib --strip \
    tunnel_manager.py
```

### 3. **ëŸ°íƒ€ì„ ìµœì í™”**
- ë¶ˆí•„ìš”í•œ import ì œê±°
- ì§€ì—° ë¡œë”© í™œìš©
- ë©”ëª¨ë¦¬ í’€ ì‚¬ìš©
- ê°ì²´ ì¬ì‚¬ìš©

## ìµœì†Œ ì‹œìŠ¤í…œ ìš”êµ¬ì‚¬í•­

- **OS**: Windows 7 ì´ìƒ
- **RAM**: 128MB ì—¬ìœ  ê³µê°„
- **ë””ìŠ¤í¬**: 100MB ì—¬ìœ  ê³µê°„ (cloudflared í¬í•¨)
- **CPU**: 1GHz ì´ìƒ
- **ë„¤íŠ¸ì›Œí¬**: ì¸í„°ë„· ì—°ê²° (ì„¤ì¹˜ ë° í„°ë„ ì‚¬ìš© ì‹œ)

## ê°œë°œ ìš°ì„ ìˆœìœ„ (ê²½ëŸ‰í™” ì¤‘ì‹¬)

1. **1ë‹¨ê³„**: Cloudflared ìë™ ê°ì§€ ë° ì„¤ì¹˜ ì‹œìŠ¤í…œ
2. **2ë‹¨ê³„**: í•µì‹¬ í„°ë„ ì‹œì‘/ì¤‘ì§€ ë¡œì§
3. **3ë‹¨ê³„**: ìµœì†Œ tkinter UI êµ¬í˜„ (ì„¤ì¹˜ ìƒíƒœë³„)
4. **4ë‹¨ê³„**: URL ê°ì§€ ë° ë³µì‚¬ ê¸°ëŠ¥
5. **5ë‹¨ê³„**: ê°„ë‹¨í•œ ë¡œê·¸ í‘œì‹œ ë° ì—ëŸ¬ ì²˜ë¦¬
6. **6ë‹¨ê³„**: ê²½ëŸ‰ íŒ¨í‚¤ì§• ë° ìµœì í™”

## ì°¸ê³ ì‚¬í•­

### í˜„ì¬ í”„ë¡œì íŠ¸ì˜ ê´€ë ¨ íŒŒì¼ë“¤
- `src/services/tunnel_service.py` - í„°ë„ ê´€ë¦¬ í•µì‹¬ ë¡œì§
- `src/components/tunnel_ui.py` - Streamlit UI ì»´í¬ë„ŒíŠ¸
- `src/core/utils.py` - TunnelState ë°ì´í„° í´ë˜ìŠ¤
- `pages/91_tunnel_management.py` - í„°ë„ ê´€ë¦¬ í˜ì´ì§€

### ì£¼ìš” ê¸°ëŠ¥ ìš”ì†Œë“¤
- Cloudflared ì‹¤í–‰ íŒŒì¼ ìë™ íƒì§€
- URL íŒ¨í„´ ë§¤ì¹­ (ì •ê·œí‘œí˜„ì‹ ì‚¬ìš©)
- ë³„ë„ ìŠ¤ë ˆë“œì—ì„œ í”„ë¡œì„¸ìŠ¤ ì¶œë ¥ ëª¨ë‹ˆí„°ë§
- ì•ˆì „í•œ í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ (terminate â†’ kill)
- ë¡œê·¸ ìˆ˜ì§‘ ë° í‘œì‹œ

ì´ ë¬¸ì„œëŠ” **Cloudflared ìë™ ì„¤ì¹˜ ê¸°ëŠ¥ì„ í¬í•¨í•œ ìµœì†Œ ìì›ìœ¼ë¡œ ìµœëŒ€ íš¨ìœ¨**ì„ ëª©í‘œë¡œ í•˜ëŠ” ê²½ëŸ‰ í„°ë„ ê´€ë¦¬ í”„ë¡œê·¸ë¨ ê°œë°œì„ ìœ„í•œ ì™„ì „í•œ ê°€ì´ë“œì…ë‹ˆë‹¤.